<!DOCTYPE html>
<html>
<head>
    <title>Hierarchical Clustering of Shopping Mall Data</title>
</head>
<body>
    <h1>Hierarchical Clustering of Shopping Mall Data</h1>
    <form method="post" action="{{ url_for('cluster') }}" enctype="multipart/form-data">
        <p>Select the CSV file containing the shopping mall data:</p>
        <input type="file" name="data_file" required>
        <p>Select the columns to be used for clustering:</p>
        <p>
        {% for column in ['Age','Genre', 'Annual Income (k$)', 'Spending Score (1-100)'] %}
            <input type="checkbox" name="columns" value="{{ column }}" id="{{ column }}" {% if loop.index == 1 %}checked{% endif %}>
            <label for="{{ column }}">{{ column }}</label>
        {% endfor %}
        </p>
        <p>Choose the number of clusters:</p>
        <input type="range" name="n_clusters" min="2" max="10" value="3" required>
        <p><output name="n_clusters_output">3</output> clusters</p>
        <script>
        const range = document.querySelector('input[name="n_clusters"]');
        const output = document.querySelector('output[name="n_clusters_output"]');
        range.addEventListener('input', () => {
            output.value = range.value;
        });
        </script>
        <button type="submit">Cluster</button>
    </form>
</body>
</html>

